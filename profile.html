<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil korisnika</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
</head>
<body>

    <header class="header-container">
        <div id="greeting">Pozdrav, <span id="logged-in-user"></span></div>
        <div id="current-price-display">Your wallet: <span id="current-price">0.00</span> <span class="delta">&#948;</span></div>
        
        <!-- Toggle button for mobile devices -->
        <button id="toggle-menu-button" class="toggle-button">☰</button>
        
        <!-- Desktop menu -->
        <nav id="desktop-menu">
            <a href="#"><span class="material-icons">home</span> Home</a>
            <a href="#"><span class="material-icons">group</span> Team</a>
            <a href="#" id="chat-link"><span class="material-icons">chat</span> Chat</a>
            <a href="#"><span class="material-icons">person</span> Profile</a>
        </nav>

        <nav id="toggle-menu">
            <a href="#"><span class="material-icons">home</span> Home</a>
            <a href="#"><span class="material-icons">group</span> Team</a>
            <a href="#" id="chat-link"><span class="material-icons">chat</span> Chat</a>
            <a href="#"><span class="material-icons">person</span> Profile</a>
        </nav>
    </header>

    <script>
        const toggleMenuButton = document.getElementById('toggle-menu-button');
        const toggleMenu = document.getElementById('toggle-menu');

        toggleMenuButton.addEventListener('click', () => {
            // Togglovanje prikaza menija
            if (toggleMenu.style.display === 'flex') {
                toggleMenu.style.display = 'none'; // Sakrij meni
            } else {
                toggleMenu.style.display = 'flex'; // Prikaži meni
            }
        });
    </script>

    <div class="image-container">
        <img src="images/delta.png" alt="Delta Image" style="max-width: 100%; height: auto;">
    </div>

    <div class="partnership-box">
        <p>
            Delta coin is selecting partnerships with crypto-services and general businesses ahead of our Open Network launch. 
            This is a unique, early opportunity for businesses to connect with over 10 million engaged Delta coin fans and become part of Delta’s rapidly expanding Web3 ecosystem. 
            If your company is interested in partnering with Delta or you’d like to introduce a business to partner with Delta, tap “Partnerships” to explore how and why.
        </p>
    </div>

    <div class="background blue"></div>
    <div class="background purple"></div>

    <div class="profile-outline">
        <div class="profile-header">
            <div id="profile-title" class="profile-title"></div>
            <div class="profile-picture" id="profile-picture"></div>
        </div>
    
        <div id="eth-account-section" style="display: none; margin-top: 20px; text-align: center; background-color: #ffcccc; padding: 10px; border-radius: 8px;">
            <label for="eth-address-input" style="color: #800000; font-weight: bold;">Vaš MetaMask račun:</label>
            <input type="text" id="eth-address-input" placeholder="Unesite vašu Ethereum adresu" style="margin-top: 10px; padding: 5px; width: 60%; border: 1px solid #800000;" disabled>
            <button id="save-eth-address" style="margin-top: 10px; padding: 5px; background-color: #800000; color: white; border: none; border-radius: 5px; cursor: pointer;">Spremi adresu</button>
            <button id="edit-eth-address" style="margin-top: 10px; padding: 5px; background-color: #800000; color: white; border: none; border-radius: 5px; cursor: pointer; display: none;">Promeni adresu</button>
        </div>
        
        <div id="profile-products" class="product-list-container"></div>
    </div>
    
    <div id="transaction-history" class="product-list-container">
        <div id="transaction-title" class="profile-title">Historija transakcija</div>
    </div>

    <script type="module">
       import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js";
       import { 
         getFirestore, collection, getDocs, query, where, doc, getDoc, updateDoc, addDoc
       } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore.js";
       import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.13.2/firebase-storage.js";

       const firebaseConfig = {
           apiKey: "AIzaSyBKfTE0qZdxVLq0lvmli367_yyqpGK-fPA",
           authDomain: "piii-7844e.firebaseapp.com",
           projectId: "piii-7844e",
           storageBucket: "piii-7844e.appspot.com",
           messagingSenderId: "315770496799",
           appId: "1:315770496799:web:0197d4baf2c8731d88722a",
           measurementId: "G-JH9SDWTS9V"
       };

       const app = initializeApp(firebaseConfig);
       const db = getFirestore(app);
       const storage = getStorage(app);

       // Dohvati parametre iz URL-a
       const params = new URLSearchParams(window.location.search);
       const profileName = params.get('ime');
       const loggedInUser = params.get('loggedInUser');
       let currentPrice = parseFloat(params.get('trenutnaCijena'));

       let loggedInUserIme = '';
       let loggedInUserId = '';

       // Funkcija za dobijanje 'ime' korisnika na osnovu 'username'
       async function getLoggedInUserIme() {
           const userCollection = collection(db, 'network');
           const q = query(userCollection, where('username', '==', loggedInUser));
           const querySnapshot = await getDocs(q);

           if (!querySnapshot.empty) {
               querySnapshot.forEach(docSnap => {
                   const userData = docSnap.data();
                   loggedInUserIme = `${userData.ime} ${userData.prezime}`;
                   loggedInUserId = docSnap.id;
               });
           } else {
               console.error("Prijavljeni korisnik nije pronađen u Firestore-u.");
           }
       }

       await getLoggedInUserIme();
       await loadProfileOwnerData();
       loadProfileProducts();
       loadTransactionHistory();

       // Prikaži ime prijavljenog korisnika i trenutnu cijenu
       document.getElementById('logged-in-user').innerText = loggedInUserIme;
       document.getElementById('current-price').innerText = currentPrice.toFixed(2);

       // Prikaži naslov profila
       const profileTitle = document.getElementById('profile-title');
       profileTitle.innerText = (loggedInUserIme === profileName)
           ? 'Vaš profil'
           : `Profil korisnika: ${profileName}`;

       // Ako je korisnik na svom profilu, prikaži polje za unos Ethereum adrese
       if (loggedInUserIme === profileName) {
           document.getElementById('eth-account-section').style.display = 'block';
       }

       // Funkcija za učitavanje proizvoda na profilu
       async function loadProfileProducts() {
           const productCollection = collection(db, 'products');
           const querySnapshot = await getDocs(productCollection);
           const profileProducts = document.getElementById('profile-products');
           profileProducts.innerHTML = '';

           querySnapshot.forEach(docSnap => {
               const productData = docSnap.data();

               if (productData.ownerName === profileName) {
                   const productDiv = document.createElement('div');
                   productDiv.classList.add('product');

                   const productImg = document.createElement('img');
                   productImg.src = productData.imageUrl;
                   productDiv.appendChild(productImg);

                   const productName = document.createElement('div');
                   productName.classList.add('product-name');
                   productName.innerText = productData.name;
                   productDiv.appendChild(productName);

                   const productPrice = document.createElement('div');
                   productPrice.classList.add('product-price');
                   productPrice.innerText = `Cijena: ${productData.price} Luna Coin`;
                   productDiv.appendChild(productPrice);

                   // Ako postoji cijena u ETH
                   if (productData.cryptoPrice) {
                       const productCryptoPrice = document.createElement('div');
                       productCryptoPrice.classList.add('product-price');
                       productCryptoPrice.innerText = `Cijena u ETH: ${productData.cryptoPrice} ETH`;
                       productDiv.appendChild(productCryptoPrice);
                   }

                   if (profileName === loggedInUserIme) {
                       // Ako smo vlasnik, možemo postaviti nove cijene
                       const priceInput = document.createElement('input');
                       priceInput.type = 'number';
                       priceInput.placeholder = 'Nova cijena (Delta coin)';
                       priceInput.classList.add('input-price');

                       const cryptoPriceInput = document.createElement('input');
                       cryptoPriceInput.type = 'number';
                       cryptoPriceInput.placeholder = 'Nova cijena (ETH)';
                       cryptoPriceInput.classList.add('input-price');

                       const setPriceButton = document.createElement('button');
                       setPriceButton.innerText = 'Postavi cijene';
                       setPriceButton.classList.add('set-price-button');

                       // Kad vlasnik postavi cijenu:
                       setPriceButton.addEventListener('click', async () => {
                           if (typeof window.ethereum !== 'undefined' && window.ethereum.isMetaMask) {
                               try {
                                   await window.ethereum.request({ method: 'eth_requestAccounts' });
                                   const web3 = new Web3(window.ethereum);
                                   const nftContract = new web3.eth.Contract(nftContractABI, nftContractAddress);
                                   const accounts = await web3.eth.getAccounts();
                                   const currentAccount = accounts[0];

                                   // 1) setApprovalForAll za marketplace
                                   await nftContract.methods
                                       .setApprovalForAll(marketplaceAddress, true)
                                       .send({ from: currentAccount });

                                   const novaCijena = parseFloat(priceInput.value);
                                   const novaCryptoCijena = parseFloat(cryptoPriceInput.value);

                                   if ((!isNaN(novaCijena) && novaCijena > 0) || (!isNaN(novaCryptoCijena) && novaCryptoCijena > 0)) {
                                       // Ažuriramo Firestore
                                       const updateData = {};
                                       if (!isNaN(novaCijena) && novaCijena > 0) {
                                           updateData.price = novaCijena;
                                       }
                                       if (!isNaN(novaCryptoCijena) && novaCryptoCijena > 0) {
                                           updateData.cryptoPrice = novaCryptoCijena;
                                       }
                                       await updateDoc(doc(db, 'products', docSnap.id), updateData);

                                       // DODANO: ListNFT na Marketplace (za ETH)
                                       const marketplaceContract = new web3.eth.Contract(marketplaceABI, marketplaceAddress);
                                       const tokenId = productData.tokenId; 
                                       
                                       // Ako želimo samo listati ETH cijenu
                                       const priceString = (!isNaN(novaCryptoCijena) && novaCryptoCijena > 0)
                                           ? novaCryptoCijena.toString()
                                           : "0.01"; // fallback
                                       
                                       const priceInWei = web3.utils.toWei(priceString, 'ether');

                                       await marketplaceContract.methods
                                           .listNFT(tokenId, priceInWei)
                                           .send({ from: currentAccount });

                                       alert('✅ Nove cijene postavljene i NFT listan na Marketplace!');
                                       loadProfileProducts(); 
                                   } else {
                                       alert('❌ Unesite ispravne cijene!');
                                   }
                               } catch (error) {
                                   console.error('❌ Greška prilikom odobravanja prodaje i postavljanja cijene:', error);
                                   alert('Došlo je do greške. Pokušajte ponovo.');
                               }
                           } else {
                               alert('❌ Molimo instalirajte MetaMask ili omogućite ga.');
                           }
                       });

                       productDiv.appendChild(priceInput);
                       productDiv.appendChild(cryptoPriceInput);
                       productDiv.appendChild(setPriceButton);
                   } else {
                       // Ako smo netko drugi, prikaži dugmad za kupovinu
                       const buyButton = document.createElement('button');
                       buyButton.innerText = 'Kupi (Luna Coin)';
                       buyButton.classList.add('buy-button');
                       buyButton.addEventListener('click', async () => {
                           await handleLunaPurchase(docSnap.id, productData);
                       });
                       productDiv.appendChild(buyButton);

                       const buyWithCryptoButton = document.createElement('button');
                       buyWithCryptoButton.innerText = 'Kupi (ETH)';
                       buyWithCryptoButton.classList.add('buy-button');
                       buyWithCryptoButton.style.backgroundColor = 'purple';
                       buyWithCryptoButton.addEventListener('click', async () => {
                           await handleCryptoPurchase(docSnap.id, productData);
                       });
                       productDiv.appendChild(buyWithCryptoButton);
                   }

                   profileProducts.appendChild(productDiv);
               }
           });
       }

       // Ažuriranje vlasništva proizvoda kada se kupuje Delta coinom
       async function updateProductOwnership(productId, productData) {
           try {
               const userPurchasesRef = collection(db, `network/${loggedInUserId}/purchases`);
               await addDoc(userPurchasesRef, {
                   name: productData.name,
                   imageUrl: productData.imageUrl,
                   price: productData.price,
                   purchaseTime: new Date()
               });

               // Oduzimanje cijene proizvoda od trenutne cijene novog vlasnika
               const userDocRef = doc(db, 'network', loggedInUserId);
               currentPrice -= productData.price;
               await updateDoc(userDocRef, { currentPrice: currentPrice });
               document.getElementById('current-price').innerText = currentPrice.toFixed(2);

               // Dodavanje cijene proizvoda na trenutnu cijenu prodavca
               const sellerId = productData.owner;
               const sellerDocRef = doc(db, 'network', sellerId);
               const sellerDocSnap = await getDoc(sellerDocRef);

               if (sellerDocSnap.exists()) {
                   const sellerData = sellerDocSnap.data();
                   let sellerCurrentPrice = sellerData.currentPrice || 0;
                   sellerCurrentPrice += productData.price;
                   await updateDoc(sellerDocRef, { currentPrice: sellerCurrentPrice });
               } else {
                   console.error("Prodavac nije pronađen u Firestore-u.");
               }

               await updateDoc(doc(db, 'products', productId), {
                   owner: loggedInUserId,
                   ownerName: loggedInUserIme,
                   sold: true
               });

               alert(`Kupili ste ${productData.name} za ${productData.price} Delta coin!`);
               loadProfileProducts();
           } catch (error) {
               console.error('Greška prilikom kupovine:', error);
               alert('Došlo je do greške. Pokušajte ponovo.');
           }
       }

       // Funkcija za rukovanje kripto kupovinom putem MetaMask-a
       // UKLONJENO: stari code koji je radio "sendTransaction"
       async function handleCryptoPurchase(productId, productData) {
           if (typeof window.ethereum !== 'undefined' && window.ethereum.isMetaMask) {
               try {
                   await window.ethereum.request({ method: 'eth_requestAccounts' });
                   const web3 = new Web3(window.ethereum);
                   const accounts = await web3.eth.getAccounts();
                   const buyerAccount = accounts[0];

                   // DODANO: Kupujemo NFT preko Marketplace ugovora (buyNFT)
                   const marketplaceContract = new web3.eth.Contract(marketplaceABI, marketplaceAddress);

                   let weiValue = '0';
                   if (productData.cryptoPrice) {
                       const ethPrice = productData.cryptoPrice; 
                       weiValue = web3.utils.toWei(ethPrice.toString(), 'ether');
                   }

                   // Poziv buyNFT => prenosi NFT u ime vlasnika
                   await marketplaceContract.methods
                       .buyNFT(productData.tokenId)
                       .send({
                           from: buyerAccount,
                           value: weiValue // Ako ugovor traži slanje ETH
                       });

                   alert('Uspješna uplata i prijenos NFT-a preko Marketplacea!');

                   // Nakon toga, localno u Firestore ažuriramo “owner”
                   await updateDoc(doc(db, 'products', productId), {
                       owner: loggedInUserId,
                       ownerName: loggedInUserIme,
                       sold: true
                   });

                   // Osvježi prikaz
                   loadProfileProducts();
               } catch (error) {
                   console.error('Greška prilikom MetaMask transakcije:', error);
                   alert('Došlo je do greške. Pokušajte ponovo.');
               }
           } else {
               alert('Molimo vas da instalirate MetaMask ekstenziju ili omogućite MetaMask ako je već instaliran.');
           }
       }

       // Polje za unos Ethereum adrese ako je vlasnik profila
       if (profileName === loggedInUserIme) {
           const userDocRef = doc(db, 'network', loggedInUserId);
           const userDocSnap = await getDoc(userDocRef);

           const ethAddressInput = document.getElementById('eth-address-input');
           const saveEthAddressButton = document.getElementById('save-eth-address');
           const editEthAddressButton = document.getElementById('edit-eth-address');

           if (userDocSnap.exists()) {
               const userData = userDocSnap.data();

               if (userData.ethAddress) {
                   ethAddressInput.value = userData.ethAddress;
                   ethAddressInput.disabled = true;
                   saveEthAddressButton.style.display = 'none';
                   editEthAddressButton.style.display = 'inline-block';
               } else {
                   ethAddressInput.disabled = false;
                   saveEthAddressButton.style.display = 'inline-block';
                   editEthAddressButton.style.display = 'none';
               }
           }

           editEthAddressButton.addEventListener('click', () => {
               ethAddressInput.disabled = false;
               ethAddressInput.value = '';
               saveEthAddressButton.style.display = 'inline-block';
               editEthAddressButton.style.display = 'none';
           });

           saveEthAddressButton.addEventListener('click', async () => {
               const newEthAddress = ethAddressInput.value.trim();
               if (typeof window.Web3 !== 'undefined') {
                   const web3 = new Web3(window.ethereum);
                   if (web3.utils.isAddress(newEthAddress)) {
                       try {
                           await updateDoc(userDocRef, { ethAddress: newEthAddress });
                           alert('Ethereum adresa uspješno spremljena!');
                           ethAddressInput.value = newEthAddress;
                           ethAddressInput.disabled = true;
                           saveEthAddressButton.style.display = 'none';
                           editEthAddressButton.style.display = 'inline-block';
                       } catch (error) {
                           console.error('Greška prilikom spremanja Ethereum adrese:', error);
                           alert('Došlo je do greške. Pokušajte ponovo.');
                       }
                   } else {
                       alert('Unesite ispravnu Ethereum adresu.');
                   }
               } else {
                   alert('Web3 nije dostupan. Provjerite da li je MetaMask instaliran.');
               }
           });
       }

       // Funkcija za učitavanje historije transakcija određenog korisnika
       async function loadTransactionHistory() {
           const userCollection = collection(db, 'network');
           const [ime, prezime] = profileName.split(' ');
           console.log("Tražim transakcije za:", ime, prezime);

           const q = query(userCollection, where('ime', '==', ime), where('prezime', '==', prezime));
           const userSnapshot = await getDocs(q);

           if (!userSnapshot.empty) {
               let profileUserId = '';
               userSnapshot.forEach(docSnap => {
                   profileUserId = docSnap.id;
               });

               const purchasesRef = collection(db, `network/${profileUserId}/purchases`);
               const purchasesSnapshot = await getDocs(purchasesRef);
               const transactionHistoryDiv = document.getElementById('transaction-history');
               transactionHistoryDiv.innerHTML = '';

               if (!purchasesSnapshot.empty) {
                   purchasesSnapshot.forEach(docSnap => {
                       const purchaseData = docSnap.data();

                       const transactionDiv = document.createElement('div');
                       transactionDiv.classList.add('transaction-item');

                       const productImg = document.createElement('img');
                       productImg.src = purchaseData.imageUrl;
                       transactionDiv.appendChild(productImg);

                       const transactionDetails = document.createElement('div');
                       transactionDetails.classList.add('transaction-details');

                       const productName = document.createElement('span');
                       productName.classList.add('transaction-name');
                       productName.innerText = purchaseData.name;

                       const purchasePrice = document.createElement('span');
                       purchasePrice.classList.add('transaction-price');
                       purchasePrice.innerText = `Cijena: ${purchaseData.price} Delta coin`;

                       const purchaseTime = document.createElement('span');
                       purchaseTime.classList.add('transaction-time');
                       purchaseTime.innerText = `Vrijeme kupovine: ${purchaseData.purchaseTime.toDate().toLocaleString()}`;

                       transactionDetails.appendChild(productName);
                       transactionDetails.appendChild(purchasePrice);
                       transactionDetails.appendChild(purchaseTime);
                       transactionDiv.appendChild(transactionDetails);

                       transactionHistoryDiv.appendChild(transactionDiv);
                   });
               } else {
                   const noTransactionsMessage = document.createElement('div');
                   noTransactionsMessage.innerText = 'Nema transakcija.';
                   noTransactionsMessage.style.textAlign = 'center';
                   transactionHistoryDiv.appendChild(noTransactionsMessage);
               }
           } else {
               console.error("Korisnik nije pronađen u Firestore-u za transakcije:", ime, prezime);
           }
       }

       // Funkcija za učitavanje podataka korisnika čiji profil gledamo
       async function loadProfileOwnerData() {
           const userCollection = collection(db, 'network');
           const [ime, prezime] = profileName.split(' ');

           const q = query(userCollection, where('ime', '==', ime), where('prezime', '==', prezime));
           const querySnapshot = await getDocs(q);

           if (!querySnapshot.empty) {
               querySnapshot.forEach(docSnap => {
                   const userData = docSnap.data();
                   const profileTitle = document.getElementById('profile-title');
                   if (loggedInUserIme === profileName) {
                       profileTitle.innerText = 'Vaš profil';
                   } else {
                       profileTitle.innerText = `Profil korisnika: ${profileName}`;
                   }
               });
           } else {
               console.error("Korisnik nije pronađen u Firestore-u:", ime, prezime);
           }
       }

       // Funkcija za kupovinu Luna Coin
       async function handleLunaPurchase(productId, productData) {
           if (typeof window.ethereum !== 'undefined' && window.ethereum.isMetaMask) {
               try {
                   await window.ethereum.request({ method: 'eth_requestAccounts' });
                   const web3 = new Web3(window.ethereum);
                   const accounts = await web3.eth.getAccounts();
                   const buyerAccount = accounts[0];

                   const lunaTokenContract = new web3.eth.Contract(contractABI, contractAddress);
                   const userBalance = await lunaTokenContract.methods.balanceOf(buyerAccount).call();
                   const requiredAmount = web3.utils.toWei(productData.price.toString(), 'ether');

                   if (parseFloat(userBalance) < parseFloat(requiredAmount)) {
                       alert('Nemate dovoljno Luna tokena za ovu transakciju.');
                       return;
                   }

                   const sellerDocRef = doc(db, 'network', productData.owner);
                   const sellerDocSnap = await getDoc(sellerDocRef);
                   const sellerEthAddress = sellerDocSnap.data().ethAddress;

                   if (!sellerEthAddress) {
                       alert('Prodavac nema postavljenu Ethereum adresu.');
                       return;
                   }

                   await lunaTokenContract.methods
                       .transfer(sellerEthAddress, requiredAmount)
                       .send({ from: buyerAccount });

                   alert(`Kupili ste ${productData.name} za ${productData.price} Luna Coin!`);

                   // Provjera i prijenos NFT-a “direktnim” safeTransferFrom -> no, treba potpis seller-a
                   // Ostavit ćemo tvoj postojeći kod, ali to vjerojatno neće proći bez seller.
                   const nftContract = new web3.eth.Contract(nftContractABI, nftContractAddress);
                   const currentOwner = await nftContract.methods.ownerOf(productData.tokenId).call();

                   if (currentOwner.toLowerCase() !== sellerEthAddress.toLowerCase()) {
                       alert('Greška: Prodavac nije vlasnik ovog NFT-a!');
                       return;
                   }

                   await nftContract.methods
                       .safeTransferFrom(sellerEthAddress, buyerAccount, productData.tokenId)
                       .send({ from: sellerEthAddress });

                   alert('NFT je uspješno prenesen kupcu!');

                   await updateDoc(doc(db, 'products', productId), {
                       owner: loggedInUserId,
                       ownerName: loggedInUserIme,
                       sold: true
                   });

                   // Dodavanje proizvoda u kupovine novog vlasnika
                   const userPurchasesRef = collection(db, `network/${loggedInUserId}/purchases`);
                   await addDoc(userPurchasesRef, {
                       name: productData.name,
                       imageUrl: productData.imageUrl,
                       price: productData.price,
                       purchaseTime: new Date()
                   });

                   loadProfileProducts();
               } catch (error) {
                   console.error('Greška prilikom obrade transakcije:', error);
                   alert('Došlo je do greške. Pokušajte ponovo.');
               }
           } else {
               alert('Molimo vas da instalirate MetaMask ekstenziju ili je omogućite.');
           }
       }

       // NFT KONTRAKT
       const nftContractAddress = "0x96c475e10479018cc028D39c71973470fD19f063";
       const nftContractABI = [
        
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			},
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "ERC721IncorrectOwner",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "ERC721InsufficientApproval",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "approver",
				"type": "address"
			}
		],
		"name": "ERC721InvalidApprover",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			}
		],
		"name": "ERC721InvalidOperator",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "ERC721InvalidOwner",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "receiver",
				"type": "address"
			}
		],
		"name": "ERC721InvalidReceiver",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			}
		],
		"name": "ERC721InvalidSender",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "ERC721NonexistentToken",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "recipient",
				"type": "address"
			},
			{
				"internalType": "string",
				"name": "uri",
				"type": "string"
			}
		],
		"name": "mintNFT",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "OwnableInvalidOwner",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "OwnableUnauthorizedAccount",
		"type": "error"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "approved",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "bool",
				"name": "approved",
				"type": "bool"
			}
		],
		"name": "ApprovalForAll",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "safeTransferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			},
			{
				"internalType": "bytes",
				"name": "data",
				"type": "bytes"
			}
		],
		"name": "safeTransferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"internalType": "bool",
				"name": "approved",
				"type": "bool"
			}
		],
		"name": "setApprovalForAll",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "currentTokenId",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "getApproved",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			}
		],
		"name": "isApprovedForAll",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "ownerOf",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes4",
				"name": "interfaceId",
				"type": "bytes4"
			}
		],
		"name": "supportsInterface",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "tokenURI",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}

        ];

       // LUNA KONTRAKT
       const contractAddress = "0x19C16A8eb27Bfd879e3BEB044A2f094568F9F672";
       const contractABI = [
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "allowance",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "needed",
				"type": "uint256"
			}
		],
		"name": "ERC20InsufficientAllowance",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "balance",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "needed",
				"type": "uint256"
			}
		],
		"name": "ERC20InsufficientBalance",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "approver",
				"type": "address"
			}
		],
		"name": "ERC20InvalidApprover",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "receiver",
				"type": "address"
			}
		],
		"name": "ERC20InvalidReceiver",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			}
		],
		"name": "ERC20InvalidSender",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			}
		],
		"name": "ERC20InvalidSpender",
		"type": "error"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "mintMyTokens",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "transfer",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "user",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "updateAndMint",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			}
		],
		"name": "allowance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "decimals",
		"outputs": [
			{
				"internalType": "uint8",
				"name": "",
				"type": "uint8"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "earnedBalance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "MAX_SUPPLY",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalMinted",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
];

       // MARKETPLACE KONTRAKT
       const marketplaceAddress = "0xe25922FB4CC65433826D9b46339c6e780cdC775E";
       const marketplaceABI = [
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "buyNFT",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "cancelListing",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "price",
				"type": "uint256"
			}
		],
		"name": "listNFT",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "_nftAddress",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "_lunaTokenAddress",
				"type": "address"
			}
		],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "OwnableInvalidOwner",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "OwnableUnauthorizedAccount",
		"type": "error"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "price",
				"type": "uint256"
			},
			{
				"indexed": false,
				"internalType": "address",
				"name": "seller",
				"type": "address"
			}
		],
		"name": "NFTListed",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "price",
				"type": "uint256"
			},
			{
				"indexed": false,
				"internalType": "address",
				"name": "seller",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "address",
				"name": "buyer",
				"type": "address"
			}
		],
		"name": "NFTSold",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "listings",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "price",
				"type": "uint256"
			},
			{
				"internalType": "address",
				"name": "seller",
				"type": "address"
			},
			{
				"internalType": "bool",
				"name": "active",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "lunaToken",
		"outputs": [
			{
				"internalType": "contract IERC20",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "nftContract",
		"outputs": [
			{
				"internalType": "contract IERC721",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
];
    </script>
</body>
</html>










<style>
    input,
    textarea {
        touch-action: manipulation; /* Omogućava manipulaciju bez zumiranja */
        
    }
    
    
          
    
    
    /* User info styling */
    
    
    
    
    
    
    
    
    
    
    
    
    /* Main container for all products */
    .marketplace-outline {
        padding: 20px;
        border: 2px solid #ccc; /* Outer border for the entire marketplace */
        background-color: #fff; /* White background */
        border-radius: 10px;
        max-width: 1200px;
        margin: 0 auto; /* Center the container */
    }
    
    /* Container for individual products */
    .product {
            border: 5px solid; /* Postavite debljinu obruba */
            border-image: linear-gradient(to right, #5a99cd, #4b0078) 1; /* Gradijentni obrub s lijeva na desno */
            border-radius: 8px; /* Zaobljeni uglovi */
            padding: 10px; /* Unutarnji razmak */
            margin: 10px; /* Vanjski razmak između proizvoda */
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1); /* Blaga sjena za bolji izgled */
        }
    
        .product img {
            width: 200px;
            height: 200px;
            object-fit: cover;
            margin-bottom: 10px;
            border-radius: 8px;
        }
    
        .product-list-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px; /* Razmak između proizvoda */
            justify-content: center; /* Centriranje proizvoda */
        }
    
    /* Individual product box */
    .product-box {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 200px; /* Set fixed width */
        height: 300px; /* Set fixed height */
        padding: 10px;
        background-color: #f9f9f9; /* Light background for products */
        border: 1px solid #ccc; /* Border for each product */
        border-radius: 8px;
        box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
    }
    
    /* Image styling for each product */
    .product-box img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        border-radius: 5px;
        margin-bottom: 10px;
    }
    
    /* Product name styling */
    .product-name {
        font-size: 16px;
        font-weight: bold;
        text-align: center;
        margin-bottom: 5px;
    }
    
    /* Product price styling */
    .product-price {
        font-size: 14px;
        color: #333;
        margin-bottom: 10px;
    }
    
    /* 'Kupi' button styling */
    .buy-button {
        width: 100%;
        padding: 8px;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s;
    }
    
    .buy-button:hover {
        background-color: #45a049;
    }
    
    .marketplace-outline h2 {
            text-align: center; /* Centrira tekst naslova */
            margin-bottom: 20px; /* Dodaje razmak ispod naslova */
            font-weight: bold; /* Podebljava naslov */
        }
    
            /* Stilovi za profilnu stranicu */
            .profile-container {
                padding: 20px;
                max-width: 1200px;
                margin: 0 auto;
            }
    
            .header-info {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
            }
    
    
    
    
    
    
           .profile-outline {
                padding: 20px;
                border: 2px solid #ccc; /* Outer border for the entire profile */
                background-color: #fff; /* White background */
                border-radius: 10px;
                max-width: 1200px;
                margin: 0 auto; /* Center the container */
            }
    
            .profile-header {
        display: flex;
        align-items: center;
        justify-content: space-between; /* Razmak između naslova i slike */
        margin-bottom: 20px;
    }
            /* Title styling within the large outline box */
            .profile-title {
        font-size: 24px; /* Vraćen originalni font za bolju vidljivost */
        padding: 10px;
        color: #fff;
        background-color: #4b0078;
        border-radius: 8px;
        text-align: center;
        margin: 0 auto 20px auto; /* Centriranje naslova */
        max-width: 400px; /* Smanjena maksimalna širina */
        transform: translateX(58px); /* Podesite vrijednost px po px */
    }
    
    @media screen and (max-width: 768px) {
        .profile-title {
            max-width: 280px; /* Smanjena maksimalna širina za tablete i manje ekrane */
        }
    }
    
    #eth-account-section {
        max-width: 400px; /* Ograničenje širine na desktopu */
        margin: 0 auto; /* Centriranje na desktopu */
    }
    
    @media screen and (max-width: 768px) {
        #eth-account-section {
            max-width: 280px; /* Ograničenje širine za mobilne uređaje */
            margin: 0 auto; /* Centriranje na mobilnim uređajima */
        }
    
        #eth-address-input {
            width: 100%; /* Prilagođavanje širine polja za unos */
        }
    }
    
            /* Container for individual products */
            .product {
                border: 5px solid;
                border-image: linear-gradient(to right, #5a99cd, #4b0078) 1;
                border-radius: 8px;
                padding: 10px;
                margin: 10px;
                display: flex;
                flex-direction: column;
                align-items: center;
                box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            }
    
            .product img {
        width: 250px; /* Povećana širina slike */
        height: 250px; /* Povećana visina slike */
        object-fit: cover;
        margin-bottom: 10px;
        border-radius: 8px;
    }
    
    
            .product-name {
                font-size: 16px;
                font-weight: bold;
                margin-bottom: 5px;
                text-align: center;
            }
    
            .product-price {
                font-size: 14px;
                color: #333;
                margin-bottom: 10px;
            }
    
            .buy-button, .set-price-button {
                padding: 8px;
                margin-top: 10px;
                border: none;
                border-radius: 5px;
                cursor: pointer;
            }
    
            .buy-button {
                background-color: #4CAF50;
                color: white;
            }
    
            .set-price-button {
                background-color: #4b0078;
                color: white;
            }
    
            .input-price {
                width: 100px;
                padding: 5px;
                margin-top: 10px;
                text-align: center;
            }
    
            .product-list-container {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
            }
            #current-price-display {
        font-weight: bold; /* Podebljava sav tekst unutar div-a */
        padding-left: 40px;
    }
    /* Main transaction history container */
    #transaction-history {
        max-width: 800px;
        padding: 15px;
        background-color: #333;
        border-radius: 10px;
        margin: 20px auto;
        color: white;
    }
    
    /* Each transaction item in a fixed-height, single-column list */
    .transaction-item {
        display: flex;
        align-items: center;
        padding: 10px;
        margin: 5px 0;
        background-color: #444;
        border-radius: 5px;
        height: 80px;
        width: 100%;
        position: relative; /* Enables absolute positioning within */
    }
    
    /* Image styling for a consistent size */
    .transaction-item img {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 4px;
        margin-right: 15px;
    }
    
    /* Transaction details container with more spacing between items */
    .transaction-details {
        display: flex;
        align-items: center;
        color: white;
        width: 100%;
    }
    
    /* Left-aligned name with fixed width */
    .transaction-name {
        font-size: 14px;
        font-weight: bold;
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    /* Centered price */
    .transaction-price {
        font-size: 14px;
        position: absolute;
        left: 50%; /* Center in the middle */
        transform: translateX(-50%); /* Adjusts to center perfectly */
        white-space: nowrap;
    }
    
    /* Right-aligned date */
    .transaction-time {
        font-size: 14px;
        text-align: right;
        white-space: nowrap;
        margin-left: auto; /* Pushes it to the right */
    }
    /* Hide date on screens smaller than 768px */
    @media (max-width: 768px) {
        .transaction-time {
            display: none;
        }
    }
    @media (max-width: 768px) {
        .transaction-price {
            left: 80%; /* Moves the price further to the right on mobile */
            transform: translateX(-50%);
        }
    }
    .profile-picture {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        overflow: hidden;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
    }
    
    .profile-picture img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    @media (max-width: 768px) {
        .profile-title {
            font-size: 18px; /* Smanjena veličina fonta za mobilne uređaje */
            text-align: left; /* Poravnanje naslova ulijevo */
            max-width: 45%; /* Uklanja ograničenje širine za mobilne uređaje */
            transform: translateX(0); /* Vraća naslov u normalan položaj */
        }
    }
    
    
        </style>



<style>
    body {
        font-family: 'Roboto', sans-serif; /* Promjena fonta */
        margin: 0;
        padding: 0;
        background-color: black;
        
       
    }
   

    @media (max-width: 768px) {
    html, body {
        width: 100%;
        overflow-x: hidden; /* Onemogućava horizontalno pomjeranje */
        margin: 0; /* Uklanja podrazumijevane margine */
        padding: 0; /* Uklanja podrazumijevane paddinge */
    }

    /* Osiguraj da svi kontejneri i elementi imaju odgovarajuću širinu */
    * {
        max-width: 100%; /* Ograničava širinu na 100% */
        box-sizing: border-box; /* Uključuje padding i border u ukupnu širinu */
    }

    img {
        max-width: 100%; /* Održava slike unutar širine kontejnera */
        height: auto; /* Održava odnos slike */
    }

    /* Podesi širinu specifičnih elemenata ako je potrebno */
    .some-element { /* Zameniti sa stvarnim klasama */
        width: 100%; /* Ili odgovarajući procenat */
    }
}

    .background {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .blue {
    background: linear-gradient(to bottom right, rgba(23, 135, 226, 0.6), rgba(0, 0, 0, 0) 50%);
    position: absolute;
    top: 0;
    left: 0;
    width: 50%;
    height: 50%;
    
}


.purple {
    background: linear-gradient(to top left, rgba(128, 0, 128, 0.6), rgba(0, 0, 0, 0) 50%);
    position: fixed; /* Changed to fixed to always stick to the bottom-right */
    bottom: 0;
    right: 0;
    width: 50%;
    height: 50%;
    z-index: 1; /* Make sure it stays below other content if necessary */
}



        
    nav {
        display: flex;
        gap: 20px;
    }
    nav a {
        color: white;
        text-decoration: none;
        display: flex;
        align-items: center;
    }
    nav .material-icons {
        margin-right: 5px; /* Razmak između ikone i teksta */
    }
    .container {
        display: flex;
        
        padding: 20px;
    }
    .icon-section {
    flex: 2;
    display: flex;
    justify-content: flex-start;
    align-items: center;
    gap: 20px;
}

.icon {
    background-color: transparent; /* Prozirna pozadina */
    border-radius: 0; /* Pravougaoni oblik */
    display: flex;
    justify-content: center;
    align-items: center;
    width: 120px; /* Širina pravougaonika */
    height: 60px; /* Visina pravougaonika */
    font-size: 24px;
    cursor: pointer;
    position: relative;
    background: transparent; /* Prozirna pozadina */
    color: white; /* Bijela boja teksta */
    border: 2px solid transparent; /* Prozirni obrub (outline) */
    border-image: linear-gradient(to right, #5a99cd, #4b0078) 1; /* Gradijentni obrub s lijeva na desno */


    

    
}

   
    .amount {
        font-size: 24px;
        margin-left: 2px;
    }


/* Stil za ikonice */
.material-icons {
    vertical-align: middle; /* Poravnanje ikone sa tekstom */
    margin-right: 8px; /* Razmak između ikone i teksta */
}


#share-icon {
    background-color: transparent; /* Prozirna pozadina */
    border-radius: 0; /* Pravougaoni oblik */
    display: flex;
    justify-content: center;
    align-items: center;
    width: 150px; /* Širina pravougaonika */
    height: 60px; /* Visina pravougaonika */
    font-size: 22px;
    cursor: pointer;
    position: relative;
    background: transparent; /* Prozirna pozadina */
    color: white; /* Bijela boja teksta */
    border: 2px solid transparent; /* Prozirni obrub (outline) */
    border-image: linear-gradient(to right, #5a99cd, #4b0078) 1; /* Gradijentni obrub s lijeva na desno */


}

#share-icon span.material-icons {
    font-size: 24px; /* Veličina ikone */
}


</style>




<style>
    .partnership-box {
        border-width: 2px; /* debljina obruba */
        border-style: solid; /* stil obruba */
        border-image: linear-gradient(to right, #5a99cd, #4b0078) 1; /* gradijentni obrub s lijeva na desno */
        padding: 20px; /* razmak unutar boxa */
        margin: 20px auto; /* razmak iznad i ispod boxa, centrirano */
        max-width: 600px; /* maksimalna širina boxa */
        text-align: justify; /* opravdanje teksta */
        background-color: #000; /* crna pozadina */
        color: #fff; /* bijela boja teksta */
        border-radius: 50px !important; /* povećanje zaobljenosti ivica */
    }

    .partnership-box p {
        margin: 0; /* uklanja zadani razmak oko paragrafa */
        text-indent: 0; /* nema uvlačenja prve linije */
        line-height: 1.6; /* povećava razmak između redova */
    }

    .partnership-box img {
    width: 100%; /* Postavi osnovnu širinu na 100% da se prilagođava */
    max-width: 600px; /* Maksimalna širina za desktop */
    height: auto; /* Automatsko prilagođavanje visine */
}

/* Za mobilne uređaje */
@media only screen and (max-width: 768px) {
    .partnership-box img {
        max-width: 350px; /* Maksimalna širina za mobitele */
    }
}

</style>




<style>
   header {

  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
  position: relative; /* Omogućuje apsolutno pozicioniranje menija */
}


/* Toggle dugme */
.toggle-button {
  display: none; /* Skriveno po defaultu */
  font-size: 30px;
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  margin-left: auto;
}

#toggle-menu {
  display: none; /* Skriveno po defaultu */
  flex-direction: column; /* Vertikalno poravnanje menija */
  background: linear-gradient(to bottom, #000000, #4b0078); /* Gradijent od plave do tamno ljubičaste */
  position: absolute;
  right: 0px;
  top: 60px;
  width: 50%;
  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
  z-index: 100;
}





#toggle-menu a {
  color: white;
  text-decoration: none;
  padding: 10px 20px;
  display: block;
  text-align: center;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* Stil za desktop meni */
#desktop-menu {
  display: flex;
}

#desktop-menu a {
  margin-left: 20px;
  text-decoration: none;
  color: white;
}

/* Media query za mobilne uređaje */
@media (max-width: 768px) {
  /* Prikaži toggle dugme na mobilnim uređajima */
  .toggle-button {
      display: block;
      transform: translateX(20px); /* Pomjera udesno za 20px */
  }
  /* Sakrij desktop meni na mobilnim uređajima */
  #desktop-menu {
      display: none;
  }

}

.image-container {
    display: flex;
    justify-content: center; /* Centriraj sliku */
    align-items: flex-start; /* Poravnaj gornji dio */
    position: relative;
}

@media (max-width: 768px) {
    .image-container {
        align-items: flex-start; /* Gornji dio */
        transform: translateY(10px); /* Pomakni prema dolje na mobilnim uređajima */
    }
}

.image-container img {
    animation: pulse 3s infinite; /* Animacija nazvana 'pulse' koja traje 2 sekunde i ponavlja se beskonačno */
}

@keyframes pulse {
    0% {
        transform: scale(1); /* Početna veličina */
    }
    50% {
        transform: scale(1.05); /* Blago povećanje veličine */
    }
    100% {
        transform: scale(1); /* Vraćanje na početnu veličinu */
    }
}


  </style>



<style>
    #current-price {
        transform: translateX(130px); /* Podesi ovu vrijednost prema željenom pomjeranju */
}

@media only screen and (max-width: 768px) {
    #current-price {
        transform: translateX(40px); /* Podesi ovu vrijednost prema željenom pomjeranju */
    }
}

#user-name {
    position: relative;
}

@media only screen and (max-width: 768px) {
    #user-name {
        transform: translateX(-20px); /* Pomjeranje ulijevo, prilagodi prema potrebi */
    }
}


</style>
</body>
</html>
